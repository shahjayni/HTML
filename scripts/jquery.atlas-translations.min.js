!function(t,e,a){var n,o=document.location.toString(),r=(window.location.hash,navigator.userAgent||navigator.vendor||window.opera),i=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4)),s=(navigator.platform.toUpperCase().indexOf("MAC"),{}),l=$(e),c=$("html"),d=$("body"),u=$(".st-cont"),h=$(".st-hd"),f=($(".st-nav"),$(".st-ft"),$("#main"),parseFloat(h.css("max-height"))),m=parseFloat(h.css("min-height")),p=l.scrollTop(),v=0,g=[],b=-1,w=!1,y=!1,C=d.children(".mdl-bkd"),k=!1;var x;x=document.createElement("div");function T(t,e,a,n,o,r){if("function"==typeof gtag){var i={event_category:a,event_label:n,event_value:o};"function"==typeof r&&(i.event_callback=r),gtag("event",e,i),console.log("track gtag",e,i)}else if("function"==typeof ga||"function"==typeof __gaTracker){var s,l=["send","event",a,e,n],c={};"function"==typeof r&&(c.hitCallback=r),l.push(c),"function"==typeof ga?(s="ga",ga.apply(this,l)):(s="__gaTracker",__gaTracker.apply(this,l)),console.log("track "+s,l)}}a.prototype.extend({contextualize:function(){return this.each((function(){var t=$(this);$("a.load[href]",t).load_in(),$("input, textarea",t).labelPlaceholder(),a().selectmenu&&!i&&$("select.cst",t).mySelectMenu({selectmenuA:{change:function(t,e){$(e.item.element.context).closest("select").closest("form"),e.item.value}},selectmenuB:{position:{my:"right top",at:"right bottom"}}},t),a().validate&&$("form.f-vldt",t).myValidate({focusInvalid:!1}),$("a",t).each((function(){(function(t){if(!t.hostname.length)return!1;var e="www."==t.hostname.substr(0,4)?t.hostname.substr(5):t.hostname;return!(location.hostname.slice(-e.length)==e)&&"http"==t.protocol.substr(0,4)})(this)&&$(this).addClass("external")})),$('a[href^="mailto:"],.buy-now,a[href$=".pdf"],a[href$=".docx"],.download-link,.event-track,.external',t).click((function(t){$(this).eventTrack()})),$("[data-style-responsive]",t).styleResponsive(),h.siteHeaderResizeOnScroll({updateSiteContainer:!1}),$(".s .open-more",t).storyMore(),$(".st-nav",t).siteNavigation(),a().fitVids&&$(".s",t).fitVids(),$("[data-modal],.mdl-lnk",t).modalNavigation(),a().slick&&$(".sldr-A",t).slick({dots:!0,arrows:!1,infinite:!0,slidesToShow:1,slidesToScroll:1,slidesToScroll:!0,autoplay:!0,autoplaySpeed:7e3,variableWidth:!1,pauseOnFocus:!0})}))},modalNavigation:function(){return this.each((function(){var t=$(this),e=t.attr("href")||t.attr("data-modal-url");void 0!==e?t.bind("click.modalNavigation",(function(a){a.preventDefault();var n={url:e};n.trigger=$.extend({},t);var o=t.attr("data-modal");""!=o&&(n.name=o),t.is("a")&&t.hasAttr("data-modal-url")&&(n.url=t.attr("data-modal-url")),t.hasAttr("data-modal-title")&&(n.title=t.attr("data-modal-title")),t.hasAttr("data-modal-scrl")&&(n.scroll=t.attr("data-modal-scrl"));var r=t.closest("[data-modal-overlay]");r.length&&(n.overlay=$.extend({},r)),t.hasAttr("data-modal-footer")&&(n.footer="true"===t.attr("data-modal-footer")),t.hasAttr("data-modal-footer-url")&&t.hasAttr("data-modal-footer-title")&&(n.footer_url=t.attr("data-modal-footer-url"),n.footer_title=t.attr("data-modal-footer-title"),t.hasAttr("data-modal-footer-class")&&(n.footer_class=t.attr("data-modal-footer-class"))),$.modal(n)})):$.debugConsole("Modal navigation URL has not been provided")}))},storyMore:function(){return this.each((function(){var t=$(this),e=t.closest(".s");if(e.hasAttr("data-read-more-text")&&e.hasAttr("data-read-less-text")){var a,n=e.attr("data-read-more-text"),o=e.attr("data-read-less-text"),r=$('<span class="more-lnk">'+n+"</span>").appendTo(t);r.click((function(){t.hasClass("open")?(t.removeClass("open"),r.text(n),window.scrollTo(0,a)):(t.addClass("open"),r.text(o),a=p)}))}}))},siteNavigation:function(){return this.each((function(){var e=$(this),a=e.find(".st-nav-li"),n=e.find(".tgr-ctrl"),o=e.find(".tgr-trg"),r=e.find(".tgr-tgt"),i=a.hasClass("dd"),s="fixed"==r.css("position");i&&!s&&a.find("li:has(> ul)").dropdown(!0);var l=function(){n.prop("checked",!1),d.removeClass("has-st-nav-on"),$.restartScrolling()};if(r.click((function(t){$(t.target).is(r)&&l()})),o.length){var c=o.attr("for"),u=$("#"+c);u.length&&u.change((function(){u.is(":checked")?(d.addClass("has-st-nav-on"),$.stopScrolling()):(d.removeClass("has-st-nav-on"),$.restartScrolling())}))}a.find("a").click((function(){s&&l()})),$(t).click((function(t){var a=$(t.target);a.is(e)||a.closest(e).length||l()}))}))},siteHeaderResizeOnScroll:function(t){var e=$.extend({updateSiteContainer:!0},t);return this.each((function(){var t=$(this),a=t.find(".st-hd-bd"),n=f-m;function o(){var o=Math.max(m,f-p);Math.min(p,n);o>=m&&(t.add(a).css("max-height",o+"px"),e.updateSiteContainer&&u.css("padding-top",o+"px"))}o(),l.on("scroll",(function(){w||(o(),setTimeout((function(){o()}),100))}))}))},styleResponsive:function(){return this.each((function(){var t=$(this);window.matchMedia("(max-width: 767px)").matches&&t.attr("style",t.attr("data-style-responsive"))}))},eventTrack:function(t){return this.each((function(){var t=$(this),e="Link Click",a=$.getPositionOnPage(t),n=t.text();if(t.is("form")){e="Form Submit";T(0,t.attr("name")||"Generic Form",e,a,n=t.attr("action")),t.fbqTrack()}t.is('a[href^="mailto:"]')&&(T(0,this.href.substr(7),e,a,n),t.fbqTrack());if(t.is("a.external")){e="External Link Click";T(0,t.attr("href"),e,a,n),t.fbqTrack()}if(t.hasClass("buy-now")){e="Buy Now";T(0,t.attr("data-payment-method")||"Generic Payment Method",e,a,n),t.fbqTrack()}if(t.is('a[href$=".pdf"],a[href$=".docx"],.download-link')){e="Download Link Click";T(0,t.attr("href"),e,a,n),t.fbqTrack()}if(t.hasClass("event-track")){e="Generic Click";T(0,this.tagName+" "+t.text(),e,a,n),t.fbqTrack()}}))},fbqTrack:function(t){t=t||{};return this.each((function(){var e=$(this).attributes("data-fbq");e.length>0&&(delete e.length,t=$.extend({},t,e)),function(t,e){if("function"==typeof fbq){var a=["track",e.event||"Lead"];delete e.event,a.push(e),fbq.apply(this,a),console.log("track fbq",a)}}(0,t)}))},myValidate:function(t){var e={onsuccess:function(){}};$.extend(e,t);return this.each((function(){var t=$(this),a={onfocusout:!1,onkeyup:!1,rules:{},messages:{},errorClass:"err",validClass:"scc"};a=$.extend({},a,e),$(":input[name]",t).each((function(){var t=$(this),e=t.attr("name");if(void 0!==e){var n=this.type;$.getInputLabel(t);if("submit"!==n&&void 0===e)return void $.debugConsole("Name is not defined",this);if(void 0===a.rules[e]&&(a.rules[e]={}),$.isRequired(t)&&(a.rules[e].required=!0,void 0===a.messages[e])){var o=$.getRequiredMessage(t);o&&(a.messages[e]={required:o})}t.hasAttr("data-validate-equalto")&&(a.rules[e].equalTo="#"+t.attr("data-validate-equalto")),t.hasAttr("data-validate-remote")&&(a.rules[e].remote=t.attr("data-validate-remote"))}})),a.errorContainer=$(".f-msg",t),a.invalidHandler=function(e,n){$.debugConsole("invalidHandler"),$(".fl.err",t).removeClass("err"),a.errorContainer&&a.errorContainer.find(".nt-req").removeClass("on")},a.showErrors=function(t,e){if($.debugConsole(e),e.length>0){this.defaultShowErrors();var n={};for(var o in e){var r=e[o],i=$(r.element).closest(".fl");i.removeClass((function(t,e){return(e.match(/(^|\s)fl-err-\S+/g)||[]).join(" ")})),i.addClass("err fl-err-"+r.method),n.hasOwnProperty(r.method)?n[r.method]++:n[r.method]=1}n.hasOwnProperty("required")&&a.errorContainer.find(".nt-req").addClass("on")}},a.errorPlacement=function(t,e){var a=e.closest(".fl"),n=a.closest("form").find(".f-msg .msg-bd .msg-vldt-li");n.length&&(n.children("ul").length?form_message_list=n.children("ul").first():form_message_list=$("<ul></ul>").appendTo(n)),a.addClass("fl-err");var o=!1;if(e.is(":checkbox,:radio")){var r=e.closest(".fls");if(r.length){var i=r.find(".fls-nt");if(i.length)i.show();else{var s=r.find(".fls-msg");s.length?t.prependTo(s):t.prependTo(r)}}else t.appendTo(a);o=!0}if(!o)if(n.length){var l=$("<li></li>").appendTo(form_message_list);t.appendTo(l)}else t.insertAfter(e);return!0},a.submitHandler=function(t){var e=$(t);return e.hasClass("f-ajax")?(e.formSend(null,(function(){e.eventTrack()})),!1):e.hasClass("f-ajax-sbmt")?(e.ajaxSubmit({success:function(){e.eventTrack()}}),!1):(e.eventTrack(),!0)},t.validate(a),t.delegate(".fl label.err, .fl .sbt.err","mouseenter",(function(t){var e=$(this);"absolute"==e.css("position")&&e.fadeOut()}));var n=function(){var t=$(this);t.hasAttr("id")&&$('label[for="'+t.attr("id")+'"].err').each((function(){var t=$(this);"absolute"==t.css("position")&&t.fadeOut()}))};$(":input",t).not(":submit").focus(n),$("select",t).change(n)}))},mySelectMenu:function(t,e){var a={change:function(t,e){},create:function(t,e){}},n={overflow:"hidden",position:"absolute",width:"0",height:"0",opacity:"0","z-index":"-1"};return this.each((function(){var e,o=$(this),r=o.attributes("data-selectmenu"),i={};i=$.extend({},i,a),"name"in r&&r.name in t&&(e=r.name,i=$.extend({},i,t[e])),r.length>0&&(i=$.extend({},i,r)),$.widget("custom.iconselectmenu",$.ui.selectmenu,{_renderMenu:function(t,a){var n=this,i="";$.debugConsole(a),$.each(a,(function(e,a){a.optgroup!==i&&""!==a.optgroup&&$("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(a.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:a.optgroup}).appendTo(t),i=a.optgroup,n._renderItemData(t,a)}));var s=t.parent();s.addClass("cst"),void 0!==e&&s.addClass(e),"class"in r&&s.addClass(r.class),o.hasAttr("class")&&s.addClass(o.attr("class"))}}),o.iconselectmenu(i).css(n).show().each((function(){var t=o.iconselectmenu("widget");t.addClass("cst"),void 0!==e&&t.addClass(e),"class"in r&&t.addClass(r.class),o.hasAttr("class")&&t.addClass(o.attr("class")),o.hasAttr("title")&&""!=o.attr("title")&&t.attr("title",original.attr("title"))})).bind("selectmenuchange iconselectmenuchange",(function(t,e){o.trigger("change")})).bind("selectmenuclose iconselectmenuclose",(function(t,e){var a=o.iconselectmenu("menuWidget").parent();a.css("transform",""),a.removeData("ui-selectmenu-scroll-top-prev")}))}))},hasAttr:function(t){for(var e=0,a=this.length;e<a;e++)if(void 0!==this.attr(t))return!0;return!1},attributes:function(t,e){var a=$(this),n=this[0];if(void 0===n)return null;for(var o=n.attributes,r={},i=0,s="",l=(e=e||!1,0);l<o.length;l++){var c=o[l].nodeName,d=null,u=null;if(!0===e)void 0!==t&&(s+=" "+t+"-"),s+=c+'="'+a.attr(c)+'"';else{if(void 0!==t){if(0==c.indexOf(t+"-"))d=c.replace(t+"-",""),u=a.attr(c)}else d=c,u=a.attr(c);if(d&&u)r[d.replace("-","")]=$.isNumeric(u)?parseFloat(u):u,i++}}return r.length=i,!0===e&&""!=s?s:r},labelPlaceholder:function(){return this.each((function(){var t=$(this),e=this.type,a=t.val(),n=!(!t.hasAttr("id")||""==$.trim(t.attr("id")))&&t.attr("id"),o="msie"==s.name&&s.version<10&&t.is("[placeholder]")||!t.is("[placeholder]"),r=!1;if(n&&(r=$('label[for="'+n+'"]')),!("checkbox"==e||t.parent("label").length||void 0!==r&&r.length&&!r.filter(".in-plh").length)){if(o?t.addClass("placeholder"):r&&r.filter(".in-plh").hide(),n){var i=r.filter(".in-plh");i.length&&""!=a&&i.hide()}t.bind({focus:function(){t.addClass("focus"),r&&r.addClass("blur")},keyup:function(){void 0!==i&&o&&(i.not(".hide").hide(),""==t.val()&&i.show())},blur:function(){t.removeClass("focus"),n&&""==t.val()&&o&&$('label[for="'+t.attr("id")+'"].in-plh').removeClass("blur").show()}})}}))},load_in:function(){return this.each((function(){var t=$(this),e="a"==t.prop("tagName").toLowerCase(),a=e?t.attr("href"):t.attr("data-url"),n=t.hasAttr("data-format")?t.attr("data-format"):"html";if(void 0!==a){var o={type:"GET",data:{format:n},dataType:"string"==n?"text":n,url:a,success:function(a){var n="object"==typeof a?a.data:a;e?t.after(n).remove():t.removeClass("loading").html(n)},complete:function(t,e){"parsererror"==e&&console.log("Response text: "+t.responseText)}};"jsonp"==n&&(o.jsonp="jsonp_callback"),$.ajax(o)}}))},enter:function(t){return this.each((function(){var e=$(this);if(e.is(":input:not(button)"))if(0===this.type.lastIndexOf("select-",0)){for(var a=!1,n=0;n<this.options.length;n++)if(this.options[n].value==t){a=!0;break}if(a)e.val(t);else{var o=this.childElementCount;$('<option value="'+t+'">'+t+"</option>").appendTo(e);e.selectUpdateIndex(o)}}else"checkbox"==this.type||"radio"==this.type?this.checked=Boolean(Number(t)):e.val(t).refresh();else{var r=e.find(".content");r.length?r.text(t):e.text(t)}}))},clear:function(){return this.each((function(){var t=a(this),e=this.type,n=this.tagName.toLowerCase();if($(".input-placeholder",this).not(".hidden").removeClass("blur").show(),"form"==n)return $(":input",this).clear();if("checkbox"==e||"radio"==e)this.checked=!1;else if("select"==n){for(var o,r=0;r<this.options.length;r++)if(this.options[r].attributes.hasOwnProperty("selected")){o=r;break}this.selectedIndex=o||0,t.next().hasClass("ui-selectmenu-button")&&t.iconselectmenu("refresh")}else t.is(":input")&&"button"!=n&&"submit"!=e?this.value="":this.innerHTML=""}))},selectUpdateIndex:function(t){return this.each((function(){var e=$(this);t>=this.childElementCount&&(this.selectedIndex=t,e.refresh())}))},refresh:function(){return this.each((function(){var t=$(this);void 0!==this.type&&0===this.type.lastIndexOf("select-",0)&&(t.next().hasClass("ui-selectmenu-button")&&(t.iconselectmenu()?t.iconselectmenu("refresh"):elem.selectmenu()&&t.selectmenu("refresh")))}))}}),a.extend(a,{coords:function(t,e){var n=t instanceof a;n&&(t.clientX=t.offset().left,t.clientY=t.offset().top);var o={},r=$(window);o.top=t.clientY,o.left=t.clientX;var i={x:0,y:0};if(n&&(i.y=t.outerHeight(),i.x=t.outerWidth()),void 0!==e){var s=n?t.closest(e):$(document).find(e);if(s.length){var l=s.offset().left,c=s.offset().top;o.top=Math.ceil(t.clientY-c),o.left=Math.ceil(t.clientX-l),o.bottom=Math.ceil(s.outerHeight()-(o.top+i.y)),o.right=Math.ceil(s.outerWidth()-(o.left+i.x))}}else o.bottom=Math.ceil(r.height()-(o.top+i.y)),o.right=Math.ceil(r.width()-(o.left+i.x));return o},preload_imgs:function(t,e,a){var n=this;if(null===e){e=[];$("<div/>").append(t).find("img").each((function(t){e.push($(this).attr("src")+"?"+(new Date).getTime())}))}var o=e.length;if(0==o)return a.call(this,t);var r=function(e){e==o&&$.isFunction(a)&&a.call(this,t)},i=function(t){n.preload_img(e[t],(function(e,a){var n=t+1;r.call(this,n),o!=n&&i.call(this,n)}))};i.call(this,0)},preload_img:function(t,e){var a=new Image;a.onload=function(){e.call(this,this.width,this.height),a.onload=function(){}},a.onerror=function(){e.call(this)},a.src=t},uniqueId:function(){return(new Date).getTime()+"-"+(1+Math.floor(32767*Math.random()))+"-"+(1+Math.floor(32767*Math.random()))},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},hasCSSProperty:function(t){var e=(document.body||document.documentElement).style;if(void 0===e)return!1;if("string"==typeof e[t])return!0;for(var a=["Moz","Webkit","Khtml","O","ms","Icab"],n=(t=t.charAt(0).toUpperCase()+t.substr(1),0);n<a.length;n++)if("string"==typeof e[a[n]+t])return!0;return!1},browser:function(){var t=navigator.userAgent.toLowerCase(),e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{name:e[1]||"",version:e[2]||"0"}},getInputLabel:function(t){if(void 0!==t.attr("id")){var e=t.attr("id");t.is("select")&&t.next(".ui-selectmenu-button").length?findLabel=$('label[for="'+e+'-button"]'):findLabel=$('label[for="'+e+'"]')}return"undefined"!=typeof findLabel&&findLabel.length?findLabel.first().text():t.prev("label").length?t.prev("label").text():void 0!==t.prop("title")?t.prop("title"):t.attr("name")},isRequired:function(t){return t.is('[required],[aria-required="true"],.in-req')},getRequiredMessage:function(t){if(!t.hasAttr("data-msg-required")){var e=$.translateString("is_required","{field} is required"),a=$.getInputLabel(t);return e.replace("{field}",$.trim(a.replace(/\*|:/g,"")))}return!1},getPositionOnPage:function(t){return t.closest("#header").length?"Header":t.closest("#footer").length?"Footer":t.closest("#main").length?"Main":"(unknown)"},translateString:function(t,e){return"object"==typeof translateStrings&&translateStrings.hasOwnProperty(t)?translateStrings[t]:void 0!==e?e:"§"+t},debugConsole:function(){console.log.apply(this,arguments)},stopScrolling:function(){w=!0,b=p,d.addClass("no-scrl"),$("html,body").scrollTop(b),setTimeout((function(){w=!1}),10)},restartScrolling:function(){d.removeClass("no-scrl"),b>=0&&$("html,body").scrollTop(b)},modalCreate:function(t,e,a,n,o,r,i){var s,l,c,u,h,f,m,p=!1;if(C.length&&C.find(".mdl-win").length&&C.find(".mdl-c").length?((void 0===t&&!C.attr("class").match(/mdl-[A-Z]{1}($|\s)/g)||void 0!==t&&C.hasClass("mdl-"+t))&&(p=!0),C.removeAttr("class").addClass("mdl-bkd"),s=$("#mdl-ctrl"),h=(l=C.find(".mdl-win")).find(".mdl-cls"),l.find(".mdl-c"),c=l.find(".mdl-hd"),m=(f=l.find(".mdl-ft")).find(".mdl-cls"),f.length&&!n?f.remove():f.empty()):(d.children(".mdl-ctrl").length?s=$("#mdl-ctrl"):d.prepend(s=$('<input type="checkbox" id="mdl-ctrl" class="mdl-ctrl" autocomplete="off" checked="checked">')),s.next(".mdl-bkd").length||s.after(C=$('<div class="mdl-bkd"></div>')),C.children(".mdl-win").length?l=C.children(".mdl-win"):C.prepend(l=$('<div class="mdl-win"></div>')),l.prepend(c=$('<header class="mdl-hd"></header>').prepend(h=$('<label for="mdl-ctrl" class="mdl-cls">'+$.translateString("close")+"</label>"))),c.after($('<div class="mdl-c"></div>').prepend($("<div"+("yes"==a?' class="scrl"':"")+"></div>").prepend($('<div class="mdl-c-inn"></div>'))))),u=c.find(".mdl-h"),void 0!==e?u.length?u.text(e):c.prepend(u=$('<h2 class="h mdl-h">'+e+"</h2>")):u.length&&u.remove(),!0===n){void 0!==f&&f.length||l.append(f=$('<footer class="mdl-ft"></footer>'));var v=o?'<a href="'+o+'" class="mdl-cls '+i+'">'+r+"</a>":'<button type="button" class="mdl-cls">'+$.translateString("close")+"</button>";f.prepend(m=$(v)).contextualize()}s.prop("checked",!0),p?C.addClass("mdl-switch"):C.removeClass("mdl-switch"),C.addClass("wait"),void 0!==t&&C.addClass("mdl-"+t),y=!0,$.stopScrolling(),C.bind("click.modalCloseBackdrop",(function(t){$(t.target).is(C)&&$.modalClose(!0)})),h.bind("click.modalClose",(function(t){$.modalClose()})),l.bind("scroll",(function(){var t=l.find('.ui-selectmenu-button[aria-expanded="true"]'),e=$(this).scrollTop();t.length>0&&t.each((function(){var t=$(this).prev("select").iconselectmenu("menuWidget").parent(),a=t.data("ui-selectmenu-scroll-top-prev");void 0===a&&(a=e,t.data("ui-selectmenu-scroll-top-prev",e));var n=a-e-1;t.css("transform","translateY("+n+"px)")}))})),void 0!==m&&m.bind("click.modalFooterClose",(function(t){var e=$(t.currentTarget);e.hasClass("removeAddress")?document.location.href=e.attr("href"):$.modalClose(!0)}))},modalWindowHasTransition:function(){var t=C.find(".mdl-win").first().css("transition-property");return t&&""!=t&&-1!=t.indexOf("transform")},modalClose:function(t,e){k=!0,!0;var a=C.prev(),n=C.data("modal_props");c.removeClass("has-mdl"),!0===t&&a.prop("checked",!1),$.modalWindowHasTransition()||$.modalUnsetContent(),y=!1,$.restartScrolling(),e||"modal"!=pageProgressBar.attr("data-name")||$.pageProgressBarStop(!0),n.hasOwnProperty("overlay")&&n.overlay.removeClass("o-fcs").children(".o").remove()},modal:function(t){var e={scroll:"no",footer:!1,footer_url:!1,footer_title:!1,footer_class:""};if((e=$.extend({},e,t)).hasOwnProperty("url")||e.hasOwnProperty("html")){y&&($.modalClose(!0,!0),!1),k=!1,e.hasOwnProperty("html")||$.pageProgressBarStart("modal"),y||$.modalCreate(e.name,e.title,e.scroll,e.footer,e.footer_url,e.footer_title,e.footer_class),C.data("modal_props",e),e.hasOwnProperty("overlay")&&(e.overlay.addClass("o-fcs"),$('<div class="o"></div>').appendTo(e.overlay));var a=function(){c.addClass("has-mdl"),e.hasOwnProperty("html")||$.pageProgressBarEnd()},n=1e3;e.hasOwnProperty("html")&&(n=0),setTimeout((function(){if(e.hasOwnProperty("url")){var t=!("#"==e.url.slice(0,1))&&e.url.split("#")[1];null!=e.url.match(/\.(jpeg|jpg|gif|png)$/)?$.preload_img(e.url,(function(){var t=$('<img src="'+e.url+'" alt="'+$.translateString("picture")+'">');$.modalPopulateContents(t,a)})):$.ajax({url:e.url,cache:!1,success:function(e){if(!k){var n=void 0!==t?t:"content",o=$(e).find("#"+n).html();$.modalPopulateContents(o,a)}}})}else e.hasOwnProperty("html")&&$.modalPopulateContents(e.html,a)}),n)}else $.debugConsole("Error: neither modal URL nor modal HTML has been provided")},modalPopulateContents:function(t,e){var a=C.find(".mdl-c"),n=C.find(".mdl-c-inn");n.html(t),a.contextualize(),C.removeClass("wait"),n.find('[href="#back"], .mdl-cls').click((function(t){t.preventDefault(),$.modalClose(!0)})),$.isFunction(e)&&e.call(this)},modalUnsetContent:function(){C.find(".mdl-c");C.find(".mdl-c-inn").empty(),!1},init:function(){o.match("#")&&o.split("#")[1];var e=$.browser();e&&(s.name=e.name,s.version=parseFloat(e.version)),$(t).contextualize()}});var _=function(){window.matchMedia("(max-width: 1350px)").matches?scrollHeight=1:scrollHeight=m,p>scrollHeight?(h.addClass("st-hd-alt"),d.addClass("has-st-hd-alt"),p=l.scrollTop(),v=p-1):b>0&&d.hasClass("has-st-nav-on")?(h.addClass("st-hd-alt"),d.addClass("has-st-hd-alt")):v>p&&(h.removeClass("st-hd-alt"),d.removeClass("has-st-hd-alt"))};l.on("scroll",(function(){if(clearTimeout(n),!0,p=l.scrollTop(),_.call(this),n=setTimeout((function(){!1}),250),g.length)for(var t=0;t<g.length;t++)g[t].call(this);v=p})).on("load",(function(){!0})).on("popstate",(function(t){})),$(t).ready((function(){var t=$(this);p=l.scrollTop();t.on("mailsent.wpcf7",(function(t){var e,n=a(t.target).find(".wpcf7-form");"mailsent"==t.type?(n.eventTrack(),e=n.find('[name="on_sent_success"]')):"mailfailed"==t.type&&(e=n.find('[name="on_sent_failed"]')),void 0!==e&&(location.href=e.attr("value"))})),$.modalCreateBase(),$.init()}))}(document,window,jQuery);